<!DOCTYPE html>
<html>

<head lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>STT모의 면접 서비스</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/total.css">
  <link rel="stylesheet" href="assets/css/results.css">
  <link rel="shortcut icon" href="#">

    <!--구글 폰트 적용-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@700&display=swap" rel="stylesheet">
  
    <!--파비콘-->
    <link rel="icon" href="./assets/image/favicon_kut.ico" type="image/x-icon">
  
    <!--애니메이션 효과 주기-->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

</head>

<body>
  <!-- 파이어베이스 관련 스크립트 -->
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-storage.js"></script>

  <script src="https://code.jquery.com/jquery-3.6.3.min.js"
    integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
  <script src="assets/js/firebaseset.js"></script>
  <!-- 파이어베이스 관련 스크립트 -->
  <script src="assets/js/상세결과.js"></script>
  <!-- 파이어베이스 관련 스크립트 -->
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <!-- sweetalert 알림창 디자인 -->
  <nav class="navbar navbar-expand-lg fixed-top bg-body-tertiary fs-6 f-bold">
    <div class="container-xxl">
      <a href="/" class="align-items-center col-md-3 mb-md-0 text-dark text-decoration-none">
        <img src="assets/image/로고.png" class="head_logo" alt="">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
        aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav me-auto ms-2 mb-2 mb-md-0">
          <li class="nav-item">
            <a class="nav-link" href="#" id="mockinterview">면접연습</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" id="result">면접결과확인</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/questions" id="result">고객센터</a>
          </li>
          <li class="nav-item dropdown hidden" id="adminch">
            <a class="nav-link dropdown-toggle" id="navbarDropdown" role=" button" data-bs-toggle="dropdown"
              aria-expanded="false" onclick="admincheck()" href="#">관리자페이지</a>
            <ul class="dropdown-menu f-medium" aria-labelledby="navbarDropdown">
              <!--<li><a class="dropdown-item" href="/announcement">공지사항</a></li>-->
              <li><a class="dropdown-item" href="/admin-page1">면접리스트</a></li>
              <li><a class="dropdown-item" href="/admin-ans-edit">질문수정</a></li>
            </ul>
          </li>
        </ul>
        <span class="userinfo hidden" id="userInfoaf"></span>
        <form class="d-flex f-medium">
          <a href="/login" class="nav-link">
            <button type="button" class="btn btn-outline-primary me-2 hidden" id="loginbtn">
              Login</button>
          </a>
          <button type="button" class="btn btn-outline-primary me-2 hidden" id="logoutbtn">
            Logout</button>
          <a href="/sign-up" class="nav-link"><button type="button" class="btn btn-primary hidden"
              id="signupbtn">Sign-up</button></a>
          <button type="button" class="btn btn-primary hidden" id="uinfo"></button>
        </form>
      </div>
    </div>
  </nav>

  <div class="row mx-4">
    <div class="col-md-3">
      <div class="panel panel-info">
        <ul class="list-group text-decoration-none" id="questionLists">
        </ul>
      </div>
    </div>

    <div class="col-md-8">
      <!-- <div class="shadow card my-2 rounded-pill bg-warning border-0">
        <div class="card-body text-center">
          <h6 id="Qtype"></h6>
        </div>
      </div> -->
      <!--질문 진도 표시-->
      <!-- <div class="progress" id="QProgress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%"
          aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        </div>
      </div> -->
      <div class="card border-0">
        <div class="card-body f-bold" id="questions">
          <!-- <h1> -->
          <!-- 질문1. 우리 학교 지원 동기는 무엇입니까? -->
          <!-- 단순 h1형식으로 하는게 아니라 질문DB에서 따와서 불러와야 됨-->
          <!-- </h1> -->
        </div>
      </div>
      <div class="card border-0">
        <div class="card-body">
          <p class=" f-bold font-navy fs-3">⬇️녹음된 음성</p>
          <!--걸린 시간 표시-->
          <div class="text-mute">
            <audio id="voiceFile" controls title="questions1.mp3"
              style="margin-right:10px; width: 300px; height: 50px; background-color: #f2f2f2; color: #333; border: 1px solid #ccc; border-radius: 5px;">
              <source src="questions1.mp3" type="audio/mpeg">
              Your browser does not support the audio element.
            </audio>
          </div>
        </div>
      </div>


      <div class="card border-0">
        <div class="card-body py-3">
          <div id="mArticle">
            <p class="screen-out f-bold font-navy fs-3">⬇️답변 내용</p>
            <div class="spell_grammar">
              <div class="fs-6 lead" id="resultForm">
                <strong class="screen_out">응답 내용</strong>
                <div class="cont_grammar">
                  <div class="cont_spell" id="join_result"> 
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


      <div class="card border-0">
        <div class="card-body py-3">
          <p class="f-bold font-navy fs-3">⬇️ChatGPT 후속 질문</p>
          <div class="spell_grammar">
            <div class="my-1 mx-3">
              <p class="lead fs-6" id="keyword">키워드: </p>
              <div class="box mb-3">
                <input type="checkbox" title="pQ1" name="additionalQ1" value="q1" id="aQ1">
                <label for="aQ1" id="aQ1Label" class="mb-1"></label>
              </div>
              
              <div class="box mb-3">
                <input type="checkbox" title="pQ2" name="additionalQ2" value="q2" id="aQ2">
                <!--add_questions-->
                <label for="aQ2" id="aQ2Label"></label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="card border-0">
        <div class="card-body py-3">
          <p class="f-bold font-navy fs-3">⬇️전문가 피드백</p>
          <div class="spell_grammar">
            <div class="fs-6 lead" id="resultForm">
              <strong class="screen_out">응답 내용</strong>
              <div class="cont_grammar">
                <div class="cont_spell" id="join_feedback" contentEditable='true' placeholder='아직 피드백이 입력되지 않았습니다.'> 
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


      <div class="card my-4 border-0">
        <div class="card-body text-end">
          <button type="button" class="btn btn-primary float-end" id="cart" href="#additionalQLayer">후속질문</button>
          <button type="button" class="btn btn-primary float-end mx-2" id="after">다음</button>
          <button type="button" class="btn btn-primary float-end" id="before">이전</button>
          
          <div id="additionalQLayer" class="examine_layer float-end"
            style="margin-top: -206.5px; display: none;">
            <div class="inner_examine_layer">
              <div class="layer_head">
                <strong class="layer_list_title">
                  <p class="title">추가된 예상 질문 목록</p>
                </strong>
              </div>
              <div class="layer_body">
                <div class="cont_qList">
                  <div id="join_ques">
                    <!-- <li>테스트</li> -->
                  </div>
                </div>
                <div class="btn_wrap">
                  <div class="img_btn" href="#none" id="closeBtn">
                    <a>확인</a>
                  </div>
                  <div class="next_btn" href="#none" id="secondKMOCKbtn">
                    <a>2차 면접 진행하기</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="card-body text-end">
          
        </div>
      </div>
    </div>
  </div>
  <footer class="mt-4 mb-4">
    <ul class="justify-content-center border-bottom mb-3"></ul>
    <p class="text-center">2023 KOREATECH</p>
    <p class="footer-notice text-center">본 서비스는 chrome 브라우저 사용을 권장합니다.</p>
  </footer>

  <script src="assets/js/loginlogout.js"></script>

  <!--애니메이션 효과-->
  <script>
    AOS.init();
  </script>
  <script src="assets/js/nav로그인.js"></script>

  <script>
    $('#logoutbtn').click(function () {
      var user = firebase.auth().currentUser; // 현재 사용자 객체 가져오기
      if (user) {
        firebase.auth().signOut().then(function () { // signOut() 메소드 호출 시 then()을 사용하여 로그아웃 성공 시 처리할 작업을 추가합니다.
          swal({
                title: "Logout",
                text: "로그아웃 되었습니다.",
                icon: "success", //"info,success,warning,error" 중 택1
          }).then((ok) => {
                if (ok) {
                    window.location.href = '/';
                /* "YES"클릭시 로직 */
                }
          });
        }).catch(function (error) { // 로그아웃 실패 시 오류 메시지를 표시합니다.
          swal({
                title: "error",
                text: "로그아웃 중 에러가 발생했습니다.",
                icon: "error", //"info,success,warning,error" 중 택1
          })
        });
      }
      else {
        window.location.href = '/login';
      }
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/상세결과.js"></script>
  <script src="assets/js/nav로그인.js"></script>
</body>

</html>